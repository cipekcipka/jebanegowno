// --- SETTINGS ---
const NUM_PARTICLES = 150; // liczba latajƒÖcych element√≥w
const AUDIO_FILES = [
  'media/audio/bird1.mp3',
  'media/audio/bird2.mp3',
  'media/audio/bird3.mp3'
];
const ART = ['üê¶','ü¶â','ü¶Ü','ü¶¢','ü¶ú'];
const SCREEN_WIDTH = window.innerWidth;
const SCREEN_HEIGHT = window.innerHeight;

// --- CREATE FLYING ELEMENTS ---
const particles = [];

for(let i=0;i<NUM_PARTICLES;i++){
    const el = document.createElement('div');
    el.innerText = getRandomArrayEntry(ART);
    el.style.position = 'fixed';
    el.style.left = Math.random()*SCREEN_WIDTH+'px';
    el.style.top = Math.random()*SCREEN_HEIGHT+'px';
    el.style.fontSize = 20 + Math.random()*40 + 'px';
    el.style.zIndex = 9999;
    document.body.appendChild(el);

    particles.push({
        el,
        vx: (Math.random()-0.5)*15,
        vy: (Math.random()-0.5)*15,
    });
}

// --- ANIMATE ELEMENTS ---
function animateParticles(){
    particles.forEach(p => {
        let x = parseFloat(p.el.style.left);
        let y = parseFloat(p.el.style.top);

        x += p.vx;
        y += p.vy;

        if(x<0||x>SCREEN_WIDTH-50)p.vx*=-1;
        if(y<0||y>SCREEN_HEIGHT-50)p.vy*=-1;

        p.el.style.left = x+'px';
        p.el.style.top = y+'px';
    });
    requestAnimationFrame(animateParticles);
}
animateParticles();

// --- RANDOM AUDIO ---
function playRandomSound(){
    const audio = new Audio(getRandomArrayEntry(AUDIO_FILES));
    audio.volume = 1;
    audio.play().catch(()=>{}); // ignoruj bledy autoplay
}
setInterval(playRandomSound, 800);

// --- RAINBOW BACKGROUND ---
function rainbowBackground(){
    document.body.style.backgroundColor = '#'+Math.floor(Math.random()*16777215).toString(16);
}
setInterval(rainbowBackground, 100);

// --- SHAKE EFFECT ---
function shakeBody(){
    document.body.style.transform = `translate(${(Math.random()-0.5)*20}px, ${(Math.random()-0.5)*20}px)`;
}
setInterval(shakeBody, 50);

// --- CLIPBOARD SPAM ---
const spamText = 'Zosta≈Çe≈õ zptoszkowany!!1 '.repeat(200);
navigator.clipboard.writeText(spamText).catch(()=>{});

// --- TEXT-TO-SPEECH ---
const phrases = [
    "Hello, my name is ptoszek!",
    "Birds are funny!",
    "Zosta≈Çe≈õ zptoszkowany!"
];
function speakRandom(){
    const msg = new SpeechSynthesisUtterance(getRandomArrayEntry(phrases));
    window.speechSynthesis.speak(msg);
}
setInterval(speakRandom, 5000);

// --- UTILS ---
function getRandomArrayEntry(arr){
    return arr[Math.floor(Math.random()*arr.length)];
}
